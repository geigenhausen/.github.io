<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="description" content="Explore worldwide travel photography featuring beautiful locations from Japan, France, and more" />
    <meta name="theme-color" content="#a8d8ff" />
    <title>Leo Foims | Travel & Worldwide Photography</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;700;800&display=swap" rel="stylesheet" />

    <!-- Styles -->
    <link rel="stylesheet" href="style.css" />
    <link rel="preload" as="image" href="wallpapers/tokyo_street_night_by_arsenixc_dbbpqj5.jpeg" />
    
    <!-- Lightbox CSS -->
    <link href="https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css" rel="stylesheet" />

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="favicon.svg" />
    <link rel="apple-touch-icon" href="apple-touch-icon.png" />
</head>
<body>
    <div id="background-image" style="background-color: #1a1a1a;"></div>
    
    <button id="theme-toggle" class="theme-toggle" aria-label="Toggle dark mode">
        <span class="icon-light">‚òÄÔ∏è</span>
        <span class="icon-dark">üåô</span>
    </button>

    <div class="page-wrapper">
        <header class="site-header">
            <div class="header-content">
                <div class="header-text">
                    <h1 class="site-title">
                        <span class="title-main">Leo Foims</span>
                        <span class="title-sub">Fujifilm x100VI üì∑</span>
                    </h1>
                    <p class="site-description">üá´üá∑ living in üáØüáµ showcasing worldwide pictures.</p>
                </div>
            </div>
        </header>

        <main class="site-main">
            <!-- Add copyright modal -->
            <div id="modal" class="copyright-modal">
                <div class="modal-content">
                    <p>¬© 2025 Leo Foims. All rights reserved.</p>
                </div>
            </div>

            <div class="countries-grid">
                <!-- Japan Section -->
                <section class="country-card" data-country="japan">
                    <details open>
                        <summary class="country-header">
                            <span class="country-flag">üáØüáµ</span>
                            <span class="country-name">Japan„ÉªÊó•Êú¨</span>
                        </summary>
                        <div class="gallery-preview">
                            <div class="gallery">
                                <article class="gallery-item" data-region="Tokyo">
                                    <div class="gallery-image-wrapper">
                                        <img src="images/tokyo/DSCF0601.jpg" alt="Tokyo" loading="lazy" />
                                    </div>
                                    <div class="gallery-item-info">
                                        <h3>Tokyo„ÉªÊù±‰∫¨</h3>
                                        <p>Capital of the Far East</p>
                                    </div>
                                </article>
                                <article class="gallery-item" data-region="Osaka">
                                    <div class="gallery-image-wrapper">
                                        <img src="images/osaka/DSCF1970.jpg" alt="Osaka" loading="lazy" />
                                    </div>
                                    <div class="gallery-item-info">
                                        <h3>Osaka„ÉªÂ§ßÈò™</h3>
                                        <p>Kansai capital</p>
                                    </div>
                                </article>
                                <article class="gallery-item" data-region="Ehime">
                                    <div class="gallery-image-wrapper">
                                        <img src="images/ehime/DSCF1734.jpg" alt="Matsuyama" loading="lazy"/>
                                    </div>
                                    <div class="gallery-item-info">
                                        <h3>Ehime„ÉªÊÑõÂ™õ</h3>
                                        <p>Heart of Shikoku</p>
                                    </div>
                                </article>
                                <article class="gallery-item" data-region="Other">
                                    <div class="gallery-image-wrapper">
                                        <img src="images/sakura/DSCF0118.jpg" alt="Cherry Blossoms in Full Bloom" loading="lazy" />
                                    </div>
                                    <div class="gallery-item-info">
                                        <h3>Cherry Blossom„ÉªÊ°ú</h3>
                                        <p>Spring beauty across Japan</p>
                                    </div>
                                </article>
                            </div>
                        </div>
                    </details>
                </section>

                <!-- France Section -->
                <section class="country-card temporarily-hidden" data-country="france">
                    <details>
                        <summary class="country-header">
                            <span class="country-flag">üá´üá∑</span>
                            <span class="country-name">France„Éª„Éï„É©„É≥„Çπ</span>
                        </summary>
                        <div class="gallery-preview">
                            <div class="gallery">
                                <article class="gallery-item" data-region="Paris">
                                    <div class="gallery-image-wrapper">
                                        <img src="images/france/paris.jpg" alt="Eiffel Tower at Sunset" loading="lazy" />
                                    </div>
                                    <div class="gallery-item-info">
                                        <h3>Paris</h3>
                                        <p>City of Light and Romance</p>
                                    </div>
                                </article>
                                <article class="gallery-item" data-region="Sud-ouest">
                                    <div class="gallery-image-wrapper">
                                        <img src="images/france/cahors.jpg" alt="History and Cuisine" loading="lazy" />
                                    </div>
                                    <div class="gallery-item-info">
                                        <h3>Cahors</h3>
                                        <p>Gourmet and history</p>
                                    </div>
                                </article>
                            </div>
                        </div>
                    </details>
                </section>
            </div>

            <!-- Sub-galleries -->
            <div class="sub-gallery" data-region="Tokyo">
                <div class="sub-gallery-header">
                    <h2>Tokyo (Êù±‰∫¨)</h2>
                    <button class="sub-gallery-close">√ó</button>
                </div>
                <div class="sub-gallery-grid">
                    <article class="sub-gallery-item">
                        <a href="images/tokyo/DSCF0601.jpg" class="glightbox" data-gallery="tokyo-full"
                           data-title="Sky Tree („Çπ„Ç´„Ç§„ÉÑ„É™„Éº)"
                           data-description="Standing at 634 meters, Tokyo Skytree is the world's tallest tower and Japan's newest landmark. Located in the traditional district of Asakusa, it beautifully represents the contrast between old and new Tokyo. This photo was taken on a late afternoon, when the tower's lighting creates a magical atmosphere against the darkening sky.

<div class='shot-details'>
<h3>Shot Details</h3>
<ul>
<li>Location: Ê±üÊù±Âå∫, Tokyo</li>
<li>Date: March 2025</li>
<li>Camera: Fujifilm X100VI</li>
<li>Settings: f/2.8, 1/60s, ISO 1600</li>
</ul>
</div>">
                            <div class="gallery-image-wrapper">
                                <img src="images/tokyo/DSCF0601.jpg" alt="Tokyo Scene 1" loading="lazy" />
                            </div>
                            <div class="gallery-item-info">
                                <h3>Sky Tree</h3>
                                <p>Ê±üÊù±Âå∫, Mar. 2025</p>
                            </div>
                        </a>
                    </article>
                    <article class="sub-gallery-item">
                        <a href="images/tokyo/DSCF0102.jpg" class="glightbox" data-gallery="tokyo-full"
                           data-title="Kagurazaka (Á•ûÊ•ΩÂùÇ)"
                           data-description="Kagurazaka, often called Tokyo's Little Paris, is a charming district known for its perfect blend of Japanese tradition and French influence. This historic street maintains its character as a former geisha district while hosting many modern French restaurants and boutiques.

<div class='shot-details'>
<h3>Shot Details</h3>
<ul>
<li>Location: Êñ∞ÂÆøÂå∫, Tokyo</li>
<li>Date: March 2025</li>
<li>Camera: Fujifilm X100VI</li>
<li>Settings: f/2.0, 1/125s, ISO 400</li>
</ul>
</div>">
                            <div class="gallery-image-wrapper">
                                <img src="images/tokyo/DSCF0102.jpg" alt="Tokyo Scene 2" loading="lazy" />
                            </div>
                            <div class="gallery-item-info">
                                <h3>Kagurazaka</h3>
                                <p>Êñ∞ÂÆøÂå∫, Mar. 2025</p>
                            </div>
                        </a>
                    </article>
                </div>
            </div>

             <div class="sub-gallery" data-region="Osaka">
                <div class="sub-gallery-header">
                    <h2>Osaka (Â§ßÈò™)</h2>
                    <button class="sub-gallery-close">√ó</button>
                </div>
                <div class="sub-gallery-grid">
                    <article class="sub-gallery-item">
                        <a href="images/osaka/DSCF1970.jpg" class="glightbox" data-gallery="osaka-full"
                           data-title="Dotonbori (ÈÅìÈ†ìÂ†Ä)"
                           data-description="Dotonbori is Osaka's most famous tourist destination and the city's premier entertainment district. This vibrant street runs parallel to the Dotonbori canal and is a symbol of Osaka's fun-loving atmosphere and rich food culture. The iconic Glico Running Man sign and other massive 3D signage create an unforgettable atmosphere, especially at night.

<div class='shot-details'>
<h3>Shot Details</h3>
<ul>
<li>Location: ÈÅìÈ†ìÂ†Ä, Osaka</li>
<li>Date: April 2025</li>
<li>Camera: Fujifilm X100VI</li>
<li>Settings: f/2.0, 1/60s, ISO 1600</li>
</ul>
</div>">
                            <div class="gallery-image-wrapper">
                                <img src="images/osaka/DSCF1970.jpg" alt="Osaka scene 1" loading="lazy" />
                            </div>
                            <div class="gallery-item-info">
                                <h3>Dotonbori</h3>
                                <p>ÈÅìÈ†ìÂ†Ä, Apr. 2025</p>
                            </div>
                        </a>
                    </article>
                </div>
            </div>

            <div class="sub-gallery" data-region="Ehime">
                <div class="sub-gallery-header">
                    <h2>Ehime (ÊÑõÂ™õ)</h2>
                    <button class="sub-gallery-close">√ó</button>
                </div>
                <div class="sub-gallery-grid">
                    <article class="sub-gallery-item">
                        <a href="images/ehime/DSCF1615.jpg" class="glightbox" data-gallery="ehime-full"
                           data-title="Matsuyama Castle (ÊùæÂ±±Âüé) - Morning View"
                           data-description="Matsuyama Castle is one of Japan's twelve original castles and the most prominent landmark in Ehime Prefecture. Perched atop Mount Katsuyama, this hilltop castle offers panoramic views of the city and the Seto Inland Sea. This photo captures the castle's majestic presence in the morning light, showcasing its strategic position and architectural beauty.

<div class='shot-details'>
<h3>Shot Details</h3>
<ul>
<li>Location: ÊùæÂ±±Â∏Ç, Ehime</li>
<li>Date: April 2025</li>
<li>Camera: Fujifilm X100VI</li>
<li>Settings: f/5.6, 1/500s, ISO 400</li>
</ul>
</div>">
                            <div class="gallery-image-wrapper">
                                <img src="images/ehime/DSCF1615.jpg" alt="Matsuyama Castle" loading="lazy" />
                            </div>
                            <div class="gallery-item-info">
                                <h3>Matsuyama Castle n.1</h3>
                                <p>ÊùæÂ±±, Apr. 2025</p>
                            </div>
                        </a>
                    </article>
                    <article class="sub-gallery-item">
                        <a href="images/ehime/DSCF1711.jpg" class="glightbox" data-gallery="ehime-full"
                           data-title="Matsuyama Outskirts (ÊùæÂ±±Â∏ÇÈÉäÂ§ñ)"
                           data-description="The outskirts of Matsuyama offer a peaceful contrast to the city center. This view captures the natural beauty of Ehime Prefecture, where mountains meet the sea. The area is known for its hot springs, traditional architecture, and the famous Dogo Onsen which inspired the bathhouse in Spirited Away.<br><br>Shot details:<br>- Location: ÊùæÂ±±Â∏Ç, Ehime<br>- Date: April 2025<br>- Camera: Fujifilm X100VI<br>- Settings: f/4.0, 1/250s, ISO 200">
                            <div class="gallery-image-wrapper">
                                <img src="images/ehime/DSCF1711.jpg" alt="Matsuyama Gulf" loading="lazy" />
                            </div>
                            <div class="gallery-item-info">
                                <h3>Matsuyama outskirts</h3>
                                <p>ÊùæÂ±±, Apr. 2025</p>
                            </div>
                        </a>
                    </article>
                    <article class="sub-gallery-item">
                        <a href="images/ehime/DSCF1734.jpg" class="glightbox" data-gallery="ehime-full"
                           data-title="Matsuyama Castle (ÊùæÂ±±Âüé) - Sunset View"
                           data-description="This shot of Matsuyama Castle captures the structure in a different light, emphasizing its imposing silhouette at the top of the hill. The castle's architecture, featuring multiple towers and gates, demonstrates the sophisticated military design of Japan's feudal period.<br><br>Shot details:<br>- Location: ÊùæÂ±±Â∏Ç, Ehime<br>- Date: April 2025<br>- Camera: Fujifilm X100VI<br>- Settings: f/8.0, 1/125s, ISO 200">
                            <div class="gallery-image-wrapper">
                                <img src="images/ehime/DSCF1734.jpg" alt="Mountain Castle" loading="lazy" />
                            </div>
                            <div class="gallery-item-info">
                                <h3>Matsuyama Castle n.2</h3>
                                <p>ÊùæÂ±±, Apr. 2025</p>
                            </div>
                        </a>
                    </article>
                    <article class="sub-gallery-item">
                        <a href="images/ehime/DSCF1710.jpg" class="glightbox" data-gallery="ehime-full">
                            <div class="gallery-image-wrapper">
                                <img src="images/ehime/DSCF1710.jpg" alt="European castle" loading="lazy" />
                            </div>
                            <div class="gallery-item-info">
                                <h3>Western-style Castle</h3>
                                <p>ÊùæÂ±±, Apr. 2025</p>
                            </div>
                        </a>
                    </article>
                </div>
            </div>
            
            <div class="sub-gallery" data-region="Other">
                <div class="sub-gallery-header">
                    <h2>Cherry Blossom</h2>
                    <button class="sub-gallery-close">√ó</button>
                </div>
                <div class="sub-gallery-grid">
                    <article class="sub-gallery-item">
                        <a href="images/sakura/DSCF0118.jpg" class="glightbox" data-gallery="sakura-full"
                           data-title="Early Sakura (Êó©Âí≤„Åç„ÅÆÊ°ú)"
                           data-description="Captured during the early cherry blossom season in Tokyo's Bunkyo ward, this photo shows the delicate beauty of the first blooms. The early-blooming varieties, known as 'kawazu-zakura', signal the beginning of spring and draw visitors from across the city.<br><br>Shot details:<br>- Location: Êñá‰∫¨Âå∫, Tokyo<br>- Date: March 2025<br>- Camera: Fujifilm X100VI<br>- Settings: f/4.0, 1/500s, ISO 200">
                            <div class="gallery-image-wrapper">
                                <img src="images/sakura/DSCF0118.jpg" alt="Cherry Blossom" loading="lazy" />
                            </div>
                            <div class="gallery-item-info">
                                <h3>Early Sakura</h3>
                                <p>Êñá‰∫¨Âå∫, Mar. 2025</p>
                            </div>
                        </a>
                    </article>
                    <article class="sub-gallery-item">
                        <a href="images/sakura/DSCF1218.jpg" class="glightbox" data-gallery="sakura-full"
                           data-title="Yozakura at Nakameguro (‰∏≠ÁõÆÈªí„ÅÆÂ§úÊ°ú)"
                           data-description="Nakameguro is famous for its nighttime cherry blossom viewing (yozakura). The cherry trees lining the Meguro River are illuminated after sunset, creating a magical tunnel of pink blossoms. The lightup only lasts until 9:00 PM, so be prepared take your best shot it before it ends.

<div class='shot-details'>
<h3>Shot Details</h3>
<ul>
<li>Location: ‰∏≠ÁõÆÈªí, Tokyo</li>
<li>Date: March 2025</li>
<li>Camera: Fujifilm X100VI</li>
<li>Settings: f/2.0, 1/60s, ISO 1600</li>
</ul>
</div>">
                            <div class="gallery-image-wrapper">
                                <img src="images/sakura/DSCF1218.jpg" alt="yozakura" loading="lazy" />
                            </div>
                            <div class="gallery-item-info">
                                <h3>Yozakura„ÉªÂ§úÊ°ú</h3>
                                <p>‰∏≠ÁõÆÈªí, Mar. 2025</p>
                            </div>
                        </a>
                    </article>
                    <article class="sub-gallery-item">
                        <a href="images/sakura/DSCF1010.jpg" class="glightbox" data-gallery="sakura-full"
                           data-title="Somei Yoshino (Êüì‰∫ïÂêâÈáé)"
                           data-description="The Somei Yoshino is Japan's most popular cherry blossom variety, known for its pale pink, almost white flowers. This photo captures a classic hanami scene in Bunkyo ward, where the delicate petals create a dreamy atmosphere. The Somei Yoshino variety was first cultivated in the late Edo period in the Somei area of Tokyo.<br><br>Shot details:<br>- Location: Êñá‰∫¨Âå∫, Tokyo<br>- Date: March 2025<br>- Camera: Fujifilm X100VI<br>- Settings: f/4.0, 1/250s, ISO 400">
                            <div class="gallery-image-wrapper">
                                <img src="images/sakura/DSCF1010.jpg" alt="yoshino" loading="lazy" />
                            </div>
                            <div class="gallery-item-info">
                                <h3>Somei Yoshino n.1</h3>
                                <p>Êñá‰∫¨Âå∫, Mar. 2025</p>
                            </div>
                        </a>
                    </article>
                    <article class="sub-gallery-item">
                        <a href="images/sakura/DSCF1111.jpg" class="glightbox" data-gallery="sakura-full"
                           data-title="Edogawabashi Hanami (Ê±üÊà∏Â∑ùÊ©ã„ÅÆËä±Ë¶ã)"
                           data-description="Edogawabashi area offers one of Tokyo's most picturesque cherry blossom viewing spots. The sakura trees line both sides of the Kanda River, creating a tunnel of blossoms that reflects beautifully in the water. This location is particularly popular among locals for its peaceful atmosphere and excellent photo opportunities.<br><br>Shot details:<br>- Location: Êñá‰∫¨Âå∫, Tokyo<br>- Date: March 2025<br>- Camera: Fujifilm X100VI<br>- Settings: f/5.6, 1/200s, ISO 200">
                            <div class="gallery-image-wrapper">
                                <img src="images/sakura/DSCF1111.jpg" alt="sakura-river" loading="lazy" />
                            </div>
                            <div class="gallery-item-info">
                                <h3>Edogawabashi hanami</h3>
                                <p>Êñá‰∫¨Âå∫, Mar. 2025</p>
                            </div>
                        </a>
                    </article>
                </div>
            </div>
        </main>

        <!-- Visitor Counter -->
        <div class="visitor-counter">
            <span>Total Visits: </span>
            <span id="visitor-count">Loading...</span>
        </div>

        <!-- Footer -->
        <footer class="site-footer">
         <div class="footer-content">
          <nav class="footer-nav">
            <div class="nav-links">
                <a href="/about">About me</a>
                <span class="nav-separator">|</span>
                <a href="/">Gallery</a>
                <span class="nav-separator">|</span>
                <a href="/shop">Shop</a>
             </div>
             <div class="copyright-text">
                ¬© 2025 Leo Foims. All rights reserved.
            </div>
        </nav>
    </div>
        </footer>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/glightbox/dist/js/glightbox.min.js"></script>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-database-compat.js"></script>
    
    <script>
        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyDUs89M4HIHPMcC_b7HH-U73pCEgT29djg",
            authDomain: "pibrac-photos.firebaseapp.com",
            projectId: "pibrac-photos",
            storageBucket: "pibrac-photos.firebasestorage.app",
            messagingSenderId: "300295005274",
            appId: "1:300295005274:web:166d80b1d31df9aa93e463",
            databaseURL: "https://pibrac-photos-default-rtdb.europe-west1.firebasedatabase.app" // Added database URL
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        document.addEventListener('DOMContentLoaded', function() {
            // Initialize elements
            const galleryItems = document.querySelectorAll('.gallery-item');
            const themeToggle = document.getElementById('theme-toggle');
            const visitorCount = document.getElementById('visitor-count');
            const backgroundElement = document.getElementById('background-image');
            const modal = document.getElementById('modal');

            // Prevent image saving and context menu
            function preventImageSaving(e) {
                // Only prevent default if it's a long press
                if (e.type === 'contextmenu') {
                    e.preventDefault();
                    showCopyrightNotice();
                    return false;
                }
            }

            // Add protection for all images
            document.addEventListener('contextmenu', preventImageSaving);

            // Handle touch events
            let touchStartTime = 0;
            const LONG_PRESS_DURATION = 500; // 500ms for long press

            document.addEventListener('touchstart', function(e) {
                touchStartTime = Date.now();
            }, { passive: true });

            document.addEventListener('touchend', function(e) {
                const touchDuration = Date.now() - touchStartTime;
                if (touchDuration >= LONG_PRESS_DURATION && e.target.tagName === 'IMG') {
                    e.preventDefault();
                    showCopyrightNotice();
                }
            }, { passive: false });

            // Show copyright notice on save attempt
            function showCopyrightNotice() {
                if (modal) {
                    modal.classList.add('active');
                    setTimeout(() => modal.classList.remove('active'), 3000);
                }
            }

            // Additional protection for iOS devices
            document.addEventListener('touchstart', function(e) {
                if (e.touches.length > 1) {
                    e.preventDefault();
                    showCopyrightNotice();
                }
            }, { passive: false });

            document.addEventListener('gesturestart', function(e) {
                e.preventDefault();
                showCopyrightNotice();
            });

            // Initialize Lightbox with improved touch handling
            const lightbox = GLightbox({
                touchNavigation: true,
                loop: true,
                closeButton: true,
                zoomable: true,
                draggable: true,
                selector: '.glightbox',
                preload: false,
                height: '100vh',
                width: '100vw',
                slideEffect: 'fade',
                closeOnOutsideClick: true,
                descPosition: 'right',
                touchFollowAxis: true,
                keyboardNavigation: true,
                openEffect: 'zoom',
                closeEffect: 'fade',
                cssEfects: {
                    zoom: { in: 'zoomIn', out: 'zoomOut' },
                    fade: { in: 'fadeIn', out: 'fadeOut' }
                },
                moreLength: 0,
                slideHTML: `
                    <div class="gslide">
                        <div class="gslide-inner-content">
                            <div class="ginner-container">
                                <div class="gslide-media-wrap">
                                    <div class="gslide-media">
                                    </div>
                                </div>
                                <div class="gslide-desc-box">
                                    <div class="gdesc-inner">
                                        <h2 class="gslide-title"></h2>
                                        <div class="gslide-desc"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `,
                onOpen: () => {
                    // Add protection to lightbox images while allowing interaction
                    const lightboxImages = document.querySelectorAll('.gslide img');
                    lightboxImages.forEach(img => {
                        img.style.pointerEvents = 'auto';
                        img.draggable = false;
                    });
                }
            });

            // Add custom styles for the lightbox description
            const style = document.createElement('style');
            style.textContent = `
                .glightbox-container {
                    width: 100vw;
                    height: 100vh;
                }

                .gslide-inner-content {
                    width: 100%;
                    height: 100%;
                }

                .ginner-container {
                    display: flex !important;
                    flex-direction: row;
                    height: 100vh;
                    width: 100vw;
                    max-width: 100vw;
                    padding: 2rem;
                    box-sizing: border-box;
                    gap: 2rem;
                }

                .gslide-media-wrap {
                    flex: 1;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    min-height: 0;
                }

                .gslide-media {
                    display: flex;
                    align-items: center;
                    justify-content: center;
                }

                .gslide-media img {
                    max-height: 90vh;
                    max-width: calc(100vw - 450px);
                    object-fit: contain;
                }

                .gslide-desc-box {
                    width: 400px;
                    min-width: 400px;
                    height: 90vh;
                    margin: auto 0;
                    background: rgba(26, 26, 26, 0.95);
                    border-radius: 12px;
                    box-shadow: 0 4px 30px rgba(0, 0, 0, 0.3);
                    overflow-y: auto;
                    padding: 2rem;
                }

                .gdesc-inner {
                    color: #ffffff;
                }

                .gslide-title {
                    color: #ffffff;
                    margin-bottom: 1.5rem;
                    font-size: 1.75rem;
                    font-weight: 600;
                    line-height: 1.3;
                    border-bottom: 2px solid rgba(255, 255, 255, 0.2);
                    padding-bottom: 1rem;
                }

                .gslide-desc {
                    color: #ffffff;
                    font-size: 1rem;
                    line-height: 1.6;
                    opacity: 1;
                }

                .shot-details {
                    margin-top: 2rem;
                    padding-top: 2rem;
                    border-top: 1px solid rgba(255, 255, 255, 0.2);
                }

                .shot-details h3 {
                    color: #ffffff;
                    font-size: 1.125rem;
                    margin-bottom: 1rem;
                    font-weight: 600;
                }

                .shot-details ul {
                    list-style: none;
                    padding: 0;
                    margin: 0;
                }

                .shot-details ul li {
                    color: #ffffff;
                    margin-bottom: 0.75rem;
                    display: flex;
                    align-items: center;
                    gap: 0.75rem;
                    opacity: 0.9;
                    font-size: 1.1rem;
                }

                .shot-details ul li:before {
                    font-size: 1.25rem;
                }

                .shot-details ul li:nth-child(1):before {
                    content: "üìç";
                }

                .shot-details ul li:nth-child(2):before {
                    content: "üìÖ";
                }

                .shot-details ul li:nth-child(3):before {
                    content: "üì∏";
                }

                .shot-details ul li:nth-child(4):before {
                    content: "‚öôÔ∏è";
                }

                /* Custom scrollbar */
                .gslide-desc-box::-webkit-scrollbar {
                    width: 8px;
                }

                .gslide-desc-box::-webkit-scrollbar-track {
                    background: #1a1a1a;
                    border-radius: 4px;
                }

                .gslide-desc-box::-webkit-scrollbar-thumb {
                    background: #333;
                    border-radius: 4px;
                }

                .gslide-desc-box::-webkit-scrollbar-thumb:hover {
                    background: #444;
                }

                /* Mobile styles */
                @media (max-width: 768px) {
                    .ginner-container {
                        flex-direction: column;
                        padding: 0;
                        height: 100vh;
                        width: 100vw;
                        overflow: hidden;
                        display: flex;
                        justify-content: center;
                        align-items: center;
                        background: rgba(0, 0, 0, 0.9);
                    }

                    .gslide-media-wrap {
                        width: 100vw;
                        height: 100vh;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                    }

                    .gslide-media {
                        width: 100%;
                        height: 100%;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                    }

                    .gslide-media img {
                        max-width: 100vw;
                        max-height: 100vh;
                        width: auto;
                        height: auto;
                        object-fit: contain;
                    }

                    .gslide-desc-box {
                        display: none;
                    }
                }

                /* Desktop styles */
                @media (min-width: 769px) {
                    .gslide-desc-box {
                        display: none;
                    }
                }
            `;
            document.head.appendChild(style);

            // Add zoom functionality
            document.addEventListener('click', function(e) {
                if (e.target.tagName === 'IMG' && e.target.closest('.gslide-media')) {
                    e.preventDefault();
                    e.stopPropagation();
                    const img = e.target;
                    if (img.classList.contains('zoomed')) {
                        img.style.transform = '';
                        img.classList.remove('zoomed');
                    } else {
                        img.style.transform = 'scale(1.5)';
                        img.classList.add('zoomed');
                    }
                }
            }, { passive: false });

            // Prevent default click behavior on lightbox images
            document.addEventListener('mousedown', function(e) {
                if (e.target.tagName === 'IMG' && e.target.closest('.gslide-media')) {
                    e.preventDefault();
                    return false;
                }
            }, { passive: false });

            // Add styles for zoom
            const zoomStyles = document.createElement('style');
            zoomStyles.textContent = `
                .gslide-media img {
                    transition: transform 0.3s ease;
                    cursor: zoom-in;
                    -webkit-user-select: none;
                    -moz-user-select: none;
                    -ms-user-select: none;
                    user-select: none;
                }
                .gslide-media img.zoomed {
                    cursor: zoom-out;
                }
                .gslide-media {
                    overflow: hidden;
                }
            `;
            document.head.appendChild(zoomStyles);

            // Theme toggle functionality
            function setTheme(isDark) {
                document.body.classList.toggle('dark-mode', isDark);
                localStorage.setItem('theme', isDark ? 'dark' : 'light');
            }

            // Initialize theme before loading background
            const savedTheme = localStorage.getItem('theme');
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            
            if (savedTheme === 'dark' || (!savedTheme && prefersDark)) {
                setTheme(true);
            }

            // Theme toggle event listener
            themeToggle.addEventListener('click', () => {
                const isDark = !document.body.classList.contains('dark-mode');
                setTheme(isDark);
            });

            // Refresh lightbox when sub-gallery opens
            function openSubGallery(region) {
                const subGallery = document.querySelector(`.sub-gallery[data-region="${region}"]`);
                if (subGallery) {
                    subGallery.classList.add('active');
                    document.body.style.overflow = 'hidden';
                    // Refresh lightbox after sub-gallery is visible
                    setTimeout(() => {
                        lightbox.reload();
                    }, 100);
                }
            }

            function closeSubGallery() {
                const activeSubGallery = document.querySelector('.sub-gallery.active');
                if (activeSubGallery) {
                    activeSubGallery.classList.remove('active');
                    document.body.style.overflow = '';
                }
            }

            // Add click handlers to gallery items
            galleryItems.forEach(item => {
                const region = item.getAttribute('data-region');
                
                // Make both image and info clickable
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    openSubGallery(region);
                });
            });

            // Sub-gallery close handlers
            document.querySelectorAll('.sub-gallery-close').forEach(button => {
                button.addEventListener('click', closeSubGallery);
            });

            document.querySelectorAll('.sub-gallery').forEach(gallery => {
                gallery.addEventListener('click', function(e) {
                    // Only close if clicking the background, not the images or content
                    if (e.target === this) {
                        closeSubGallery();
                    }
                });

                // Prevent click propagation from gallery items
                gallery.querySelectorAll('.sub-gallery-item').forEach(item => {
                    item.addEventListener('click', function(e) {
                        e.stopPropagation();
                    });
                });
            });

            // ESC key handler
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    closeSubGallery();
                }
            });

            // Update visitor count
            function updateVisitorCount() {
                const visitsRef = database.ref('visits');
                
                // Get current count
                visitsRef.once('value').then((snapshot) => {
                    const currentCount = snapshot.val() || 0;
                    
                    // Check if this is a new session
                    const lastVisitTime = sessionStorage.getItem('lastVisitTime');
                    const currentTime = Date.now();
                    
                    if (!lastVisitTime || (currentTime - parseInt(lastVisitTime)) > 15 * 60 * 1000) { // 15 minutes session timeout
                        // Increment the count
                        visitsRef.set(currentCount + 1);
                        sessionStorage.setItem('lastVisitTime', currentTime);
                    }
                    
                    // Display the count
                    visitorCount.textContent = currentCount.toLocaleString();
                });

                // Listen for real-time updates
                visitsRef.on('value', (snapshot) => {
                    const count = snapshot.val() || 0;
                    visitorCount.textContent = count.toLocaleString();
                });
            }

            // Initialize visitor counter
            updateVisitorCount();

            // Background image
            const backgroundImage = new Image();
            
            backgroundImage.onload = function() {
                backgroundElement.style.backgroundImage = `url('${this.src}')`;
            };

            backgroundImage.onerror = function() {
                console.error('Failed to load background image');
                backgroundElement.style.backgroundColor = '#1a1a1a';
            };

            backgroundImage.src = 'wallpapers/tokyo_street_night_by_arsenixc_dbbpqj5.jpeg';

            // Prevent details from closing when clicking gallery items
            document.querySelectorAll('.gallery').forEach(gallery => {
                gallery.addEventListener('click', function(e) {
                    e.stopPropagation();
                });
            });
        });
    </script>
</body>
</html>
