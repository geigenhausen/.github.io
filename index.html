<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="description" content="Explore worldwide travel photography featuring beautiful locations from Japan, France, and more" />
    <meta name="theme-color" content="#a8d8ff" />
    <title>Leo Photos | Travel & Worldwide Photography</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;700;800&display=swap" rel="stylesheet" />

    <!-- Styles -->
    <link rel="stylesheet" href="style.css" />
    <link rel="preload" as="image" href="wallpapers/tokyo_street_night_by_arsenixc_dbbpqj5.jpeg">
    
    <!-- Lightbox CSS -->
    <link href="https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css" rel="stylesheet" />

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="favicon.svg" />
    <link rel="apple-touch-icon" href="apple-touch-icon.png" />
</head>
<body>
    <div id="background-image" style="background-color: #1a1a1a;"></div>
    
    <button id="theme-toggle" class="theme-toggle" aria-label="Toggle dark mode">
        <span class="icon-light">‚òÄÔ∏è</span>
        <span class="icon-dark">üåô</span>
    </button>

    <div class="page-wrapper">
        <header class="site-header">
            <div class="header-content">
                <div class="header-text">
                    <h1 class="site-title">
                        <span class="title-main">Leo Photos</span>
                        <span class="title-sub">Fujifilm x100VI üì∑</span>
                    </h1>
                    <p class="site-description">üá´üá∑ living in üáØüáµ showcasing worldwide pictures.</p>
                </div>
             <div id="modal" class="copyright-modal">
             </div>
            </div>
        </header>

        <main class="site-main">
            <div class="countries-grid">
                <!-- Japan Section -->
                <section class="country-card" data-country="japan">
                    <details open>
                        <summary class="country-header">
                            <span class="country-flag">üáØüáµ</span>
                            <span class="country-name">Japan„ÉªÊó•Êú¨</span>
                        </summary>
                        <div class="gallery-preview">
                            <div class="gallery">
                                <article class="gallery-item" data-region="Tokyo">
                                    <div class="gallery-image-wrapper">
                                        <img src="images/tokyo/DSCF0601.jpg" alt="Tokyo" loading="lazy" />
                                    </div>
                                    <div class="gallery-item-info">
                                        <h3>Tokyo„ÉªÊù±‰∫¨</h3>
                                        <p>Capital of Japan</p>
                                    </div>
                                </article>
                                <article class="gallery-item" data-region="Ehime">
                                    <div class="gallery-image-wrapper">
                                        <img src="images/ehime/DSCF1711.jpg" alt="Matsuyama Outskirts" loading="lazy"/>
                                    </div>
                                    <div class="gallery-item-info">
                                        <h3>Ehime„ÉªÊÑõÂ™õ</h3>
                                        <p>Heart of Shikoku</p>
                                    </div>
                                </article>
                                <article class="gallery-item" data-region="Other">
                                    <div class="gallery-image-wrapper">
                                        <img src="images/sakura/IMG_5754.jpeg" alt="Cherry Blossoms in Full Bloom" loading="lazy" />
                                    </div>
                                    <div class="gallery-item-info">
                                        <h3>Cherry Blossom„ÉªÊ°ú</h3>
                                        <p>Spring beauty across Japan</p>
                                    </div>
                                </article>
                            </div>
                        </div>
                    </details>
                </section>

                <!-- France Section -->
                <section class="country-card" data-country="france">
                    <details>
                        <summary class="country-header">
                            <span class="country-flag">üá´üá∑</span>
                            <span class="country-name">France„Éª„Éï„É©„É≥„Çπ</span>
                        </summary>
                        <div class="gallery-preview">
                            <div class="gallery">
                                <article class="gallery-item" data-region="Paris">
                                    <div class="gallery-image-wrapper">
                                        <img src="images/france/paris.jpg" alt="Eiffel Tower at Sunset" loading="lazy" />
                                    </div>
                                    <div class="gallery-item-info">
                                        <h3>Paris</h3>
                                        <p>City of Light and Romance</p>
                                    </div>
                                </article>
                                <article class="gallery-item" data-region="Sud-ouest">
                                    <div class="gallery-image-wrapper">
                                        <img src="images/france/cahors.jpg" alt="History and Cuisine" loading="lazy" />
                                    </div>
                                    <div class="gallery-item-info">
                                        <h3>Cahors</h3>
                                        <p>Gourmet and history</p>
                                    </div>
                                </article>
                            </div>
                        </div>
                    </details>
                </section>
            </div>

            <!-- Sub-galleries -->
            <div class="sub-gallery" data-region="Tokyo">
                <div class="sub-gallery-header">
                    <h2>Tokyo Êù±‰∫¨</h2>
                    <button class="sub-gallery-close">√ó</button>
                </div>
                <div class="sub-gallery-grid">
                    <article class="sub-gallery-item">
                        <div class="gallery-image-wrapper">
                            <a href="images/tokyo/DSCF0601.jpg" class="glightbox" data-gallery="tokyo-full">
                                <img src="images/tokyo/DSCF0601.jpg" alt="Tokyo Scene 1" loading="lazy" />
                            </a>
                        </div>
                        <div class="gallery-item-info">
                            <h3>Sky Tree</h3>
                            <p>Tokyo Tower best enemy</p>
                        </div>
                    </article>
                </div>
            </div>

            <div class="sub-gallery" data-region="Ehime">
                <div class="sub-gallery-header">
                    <h2>Ehime ÊÑõÂ™õ</h2>
                    <button class="sub-gallery-close">√ó</button>
                </div>
                <div class="sub-gallery-grid">
                    <article class="sub-gallery-item">
                        <div class="gallery-image-wrapper">
                            <a href="images/ehime/DSCF1615.jpeg" class="glightbox" data-gallery="ehime-full">
                                <img src="images/ehime/DSCF1615.jpeg" alt="Matsuyama Castle" loading="lazy" />
                            </a>
                        </div>
                        <div class="gallery-item-info">
                            <h3>Matsuyama Castle</h3>
                            <p>Historic castle view (April 2025)</p>
                        </div>
                    </article>
                    <article class="sub-gallery-item">
                        <div class="gallery-image-wrapper">
                            <a href="images/ehime/DSCF1711.jpg" class="glightbox" data-gallery="ehime-full">
                                <img src="images/ehime/DSCF1711.jpg" alt="Matsuyama Gulf" loading="lazy" />
                            </a>
                        </div>
                        <div class="gallery-item-info">
                            <h3>Matsuyama outskirts</h3>
                            <p>View from Sogo Park</p>
                        </div>
                    </article>
                </div>
            </div>
            
            <div class="sub-gallery" data-region="Other">
                <div class="sub-gallery-header">
                    <h2>Cherry Blossom</h2>
                    <button class="sub-gallery-close">√ó</button>
                </div>
                <div class="sub-gallery-grid">
                    <article class="sub-gallery-item">
                        <div class="gallery-image-wrapper">
                            <a href="images/sakura/IMG_5754.jpeg" class="glightbox" data-gallery="sakura-full">
                                <img src="images/sakura/IMG_5754.jpeg" alt="Cherry Blossom" loading="lazy" />
                            </a>
                        </div>
                        <div class="gallery-item-info">
                            <h3>Early Sakura 2025</h3>
                            <p>Signs of Spring</p>
                        </div>
                    </article>
                </div>
            </div>
        </main>

        <!-- Visitor Counter -->
        <div class="visitor-counter">
            <span>Total Visits: </span>
            <span id="visitor-count">Loading...</span>
        </div>

        <!-- Footer -->
        <footer class="site-footer">
         <div class="footer-content">
          <nav class="footer-nav">
            <div class="nav-links">
                <a href="/about">About me</a>
                <span class="nav-separator">|</span>
                <a href="/gallery">Gallery</a>
                <span class="nav-separator">|</span>
                <a href="/shop">Shop</a>
             </div>
             <div class="copyright-text">
                ¬© 2025 Leo Photos. All rights reserved.
            </div>
        </nav>
    </div>
        </footer>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/glightbox/dist/js/glightbox.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize elements
            const galleryItems = document.querySelectorAll('.gallery-item');
            const themeToggle = document.getElementById('theme-toggle');
            const visitorCount = document.getElementById('visitor-count');
            const backgroundElement = document.getElementById('background-image');

            // Initialize Lightbox
            const lightbox = GLightbox({
                touchNavigation: true,
                loop: true,
                closeButton: true,
                zoomable: true,
                selector: '.sub-gallery-item a'
            });

            // Copyright protection function
            function showCopyrightNotice() {
                modal.classList.add('active');
                setTimeout(() => modal.classList.remove('active'), 3000);
            }

            // Image loading handler
            function handleImageLoad(img) {
                img.classList.add('loaded');
                const wrapper = img.closest('.gallery-image-wrapper');
                if (wrapper) {
                    wrapper.classList.add('loaded');
                }
            }

            function handleImageError(img) {
                console.error('Failed to load image:', img.src);
                const wrapper = img.closest('.gallery-image-wrapper');
                if (wrapper) {
                    wrapper.style.backgroundColor = '#f0f0f0';
                    wrapper.innerHTML = `
                        <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; 
                                    display: flex; align-items: center; justify-content: center; 
                                    padding: 1rem; text-align: center;">
                            Image failed to load
                        </div>`;
                }
            }

            // Initialize images
            document.querySelectorAll('img').forEach(img => {
                if (img.complete) {
                    handleImageLoad(img);
                } else {
                    img.addEventListener('load', () => handleImageLoad(img));
                }
                img.addEventListener('error', () => handleImageError(img));
            });

            // Sub-gallery functionality
            function openSubGallery(region) {
                const subGallery = document.querySelector(`.sub-gallery[data-region="${region}"]`);
                if (subGallery) {
                    subGallery.classList.add('active');
                    document.body.style.overflow = 'hidden';
                }
            }

            function closeSubGallery() {
                const activeSubGallery = document.querySelector('.sub-gallery.active');
                if (activeSubGallery) {
                    activeSubGallery.classList.remove('active');
                    document.body.style.overflow = '';
                }
            }

            // Gallery item click handlers
            galleryItems.forEach(item => {
                const itemInfo = item.querySelector('.gallery-item-info');
                
                itemInfo.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    const region = item.getAttribute('data-region');
                    openSubGallery(region);
                });
            });

            // Sub-gallery close handlers
            document.querySelectorAll('.sub-gallery-close').forEach(button => {
                button.addEventListener('click', closeSubGallery);
            });

            document.querySelectorAll('.sub-gallery').forEach(gallery => {
                gallery.addEventListener('click', function(e) {
                    if (e.target === this) {
                        closeSubGallery();
                    }
                });
            });

            // Protection measures
            document.addEventListener('contextmenu', function(e) {
                e.preventDefault();
                showCopyrightNotice();
            });

            document.addEventListener('keydown', function(e) {
                // Close sub-gallery on ESC
                if (e.key === 'Escape') {
                    closeSubGallery();
                    return;
                }

                // Prevent PrintScreen
                if (e.key === 'PrintScreen') {
                    e.preventDefault();
                    showCopyrightNotice();
                    return;
                }

                // Prevent Ctrl/Cmd + S, C, I, U, P
                if (e.ctrlKey || e.metaKey) {
                    switch (e.key.toLowerCase()) {
                        case 's':
                        case 'c':
                        case 'i':
                        case 'u':
                        case 'p':
                            e.preventDefault();
                            showCopyrightNotice();
                            break;
                    }
                }
            });

            // Disable drag and drop
            document.addEventListener('dragstart', function(e) {
                e.preventDefault();
            });

            // Modal close functionality
            modal.querySelector('.modal-close').addEventListener('click', function() {
                modal.classList.remove('active');
            });

            // Blur protection
            let blurTimeout;
            window.addEventListener('blur', function() {
                blurTimeout = setTimeout(() => {
                    document.body.classList.add('page-blurred');
                }, 100);
            });

            window.addEventListener('focus', function() {
                clearTimeout(blurTimeout);
                document.body.classList.remove('page-blurred');
            });

            // Visitor counter
            function getVisitorCount() {
                let count = localStorage.getItem('visitorCount');
                return parseInt(count || '0');
            }

            function updateVisitorCount() {
                let count = getVisitorCount();
                count++;
                localStorage.setItem('visitorCount', count);
                visitorCount.textContent = count.toLocaleString();
            }

            updateVisitorCount();

            // Theme toggle
            function setTheme(isDark) {
                document.body.classList.toggle('dark-mode', isDark);
                localStorage.setItem('theme', isDark ? 'dark' : 'light');
            }

            // Initialize theme
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark' || 
                (savedTheme === null && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                setTheme(true);
            }

            themeToggle.addEventListener('click', () => {
                const isDark = !document.body.classList.contains('dark-mode');
                setTheme(isDark);
            });

            // Background image
            const backgroundImage = new Image();
            
            backgroundImage.onload = function() {
                backgroundElement.style.backgroundImage = `url('${this.src}')`;
                backgroundElement.style.opacity = '1';
            };

            backgroundImage.onerror = function() {
                console.error('Failed to load background image');
                backgroundElement.style.backgroundColor = '#1a1a1a';
            };

            backgroundImage.src = 'wallpapers/tokyo_street_night_by_arsenixc_dbbpqj5.jpeg';

            // Prevent details from closing when clicking gallery items
            document.querySelectorAll('.gallery').forEach(gallery => {
                gallery.addEventListener('click', function(e) {
                    e.stopPropagation();
                });
            });
        });
    </script>
</body>
</html>
